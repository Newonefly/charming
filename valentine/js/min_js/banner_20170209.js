angular.module("app",[]).controller("myCtrl",function(t,e){function i(){$(".no_mes").hide(),e.jsonp("http://api.kitty.live/v1/activity/valentine/contribution/rank?callback=JSON_CALLBACK").success(function(e){t.hero=e.rank_list,0!=t.hero.length?$(".content").show():($(".content").hide(),$(".no_mes").show())})}function a(){switch($(".no_mes").hide(),0!=t.data.length?($(".content").fadeIn(),11==t.state?($(".ttf").hide(),$(".line").hide()):($(".ttf").show(),$(".line").show())):($(".content").hide(),t.state=10),t.state){case 10:$(".no_mes").show();break;case 11:t.winner=t.data,$("#step_num").html(32);break;case 12:t.winner=t.data.slice(0,16),t.loser=t.data.slice(16),t.num=17,$("#step_num_fr").html(32),$("#step_num").html(16);break;case 13:t.winner=t.data.slice(0,8),t.loser=t.data.slice(8),t.num=9,$("#step_num_fr").html(16),$("#step_num").html(8);break;case 14:t.winner=t.data.slice(0,4),t.loser=t.data.slice(4),t.num=5,$("#step_num_fr").html(8),$("#step_num").html(4)}}function n(){e.jsonp("http://api.kitty.live/v1/activity/valentine/chocolate/rank?callback=JSON_CALLBACK").success(function(e){t.state=e.activity_stage,t.data=e.rank_list,a()})}function s(){e.jsonp("http://api.kitty.live/v1/activity/valentine/rose/rank?callback=JSON_CALLBACK").success(function(e){t.state=e.activity_stage,t.data=e.rank_list,a()})}function c(){$(".light").show(),setTimeout(function(){$(".light").hide()},1e3)}s(),t.tog=function(t){switch(c(),t){case 0:$(".tog_bg").css("left",0),$(".gift").show(),$(".group_game").show(),$(".hero").hide();break;case 1:i(),$(".tog_bg").css("left","43.5%"),$(".gift").hide(),$(".group_game").hide(),$(".hero").show()}},t.gift=function(t){switch(c(),t){case 0:$(".hide").removeClass("hide_extra_left").addClass("hide_extra_right"),s();break;case 1:$(".hide").removeClass("hide_extra_right").addClass("hide_extra_left"),n()}};var o=!1;t.go=function(t){o||(o=!0,setTimeout(function(){o=!1},2e3),location.href="kitty://com.kitty/dynamic_user?user_id="+t)}});