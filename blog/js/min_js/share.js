!function(e){e.fn.share=function(t){var i=e(document).find("img:first").attr("src"),n={url:window.location.href,site:document.title,title:e(document.head).find('[name="site-title"]').attr("content")||document.title,description:e(document.head).find('[name="description"]').attr("content"),image:i?i:"",target:"_blank",qrcodeTitle:"微信扫一扫：分享",qrcodeWidth:100,weiboAppendDescription:!0},o=e.extend(!0,n,t);o.title=encodeURIComponent(o.title),o.site=encodeURIComponent(o.site),o.description=encodeURIComponent(o.description);var r={qzone:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url="+o.url+"&title="+o.title+"&desc="+o.description+"&summary="+o.description+"&site="+o.site+(o.image?o.image:""),qq:"http://connect.qq.com/widget/shareqq/index.html?url="+o.url+"&title="+o.title+"&source="+o.site+"&desc="+o.description,weibo:"http://service.weibo.com/share/share.php?url="+o.url+"&title="+o.title+(o.weiboAppendDescription?o.description:"")+(o.image?"&pic="+o.image:""),wechat:"javascript:;",douban:"http://shuo.douban.com/!service/share?href="+o.url+"&name="+o.title+"&text="+o.description+(o.image?"&image="+o.image:"")+"&starid=0&aid=0&style=11&stime=&sig="};this.each(function(){var t=e(this).addClass("sns-share-component"),i=t.find("a.wechat");for($id in r)t.find("a."+$id).attr("href",r[$id]).attr("target",o.target);i.length&&("function"==typeof e.fn.qrcode?(i.append('<span class="wechat-qrcode"></span>'),i.find(".wechat-qrcode").qrcode({width:o.qrcodeWidth,height:o.qrcodeWidth-10,text:o.url}),i.find(".wechat-qrcode").css({right:-o.qrcodeWidth/2,display:"block"}),i.find(".wechat-qrcode").append(o.qrcodeTitle)):(console.error("未加载 jquery.qrcode.min.js, 无法支持微信分享"),i.hide()))})}}(jQuery);