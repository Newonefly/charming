<div class="wrap">
  <h1>js常用的小技巧</h1>
  <div class="container">
    <div class="group">
      <h2>1. 使用!!模拟Boolean()函数</h2>
      <p>原理: 逻辑非操作一个数据对象时,会先将数据对象转换成布尔值,然后取反,两个!!表示重复取反, 就实现了转化成布尔值的效果
      </p>
      <div class="content">
        <div class="content-inner">
          <p>var a = 1;</p>
          <div class="runBtn">
            <p>
              <a href="javascript:;">运行 !a</a>
              <span></span>
            </p>
            <p>
              <a href="javascript:;">运行 !!a</a>
              <span></span>
            </p>
          </div>
        </div>
      </div>
      <h2>使用一元加(+)模拟Number()函数</h2>
      <p>原理: 对非数值类型的数据使用一元加(+),会起到与Number()函数相同的效果.</p>
      <ul>
        <li>null转换为0</li>
        <li>undefined转换成NaN</li>
        <li>false转换为0,true转换为1</li>
        <li>
          <p>对于字符串: </p>
          <ul style="margin-left:2em;">
            <li>空字符串转换为0</li>
            <li>含有数字或者浮点数或者十六进制格式的数据(11,0.3,0xfe等),转换为相应的数值</li>
            <li>含有其他格式字符，无法转换为数值的字符串，转换为NaN</li>
          </ul>
        </li>
        <li>对于对象，先调用valueOf()方法，在转换，若结果为NaN，那么再调用toString()方法，之后再转换</li>
      </ul>
      <h2>使用逻辑与( && )进行短路操作</h2>
      <div class="content">
        <div class="content-inner">
          if(connected){ login(); } ----> connected && login();
        </div>
      </div>
      <p>原理：逻辑与(&&)会首先对第一个操作数进行求值，只有求值结果为true时才会对第二个操作数求值。 connected && login()中，若判断connected不为true,则不再进行下一步操作。 所谓的短路操作即第一个操作数可以决定结果，则不再对第二个操作数进行求值。
      </p>
      <h2>使用逻辑或(||)设置默认值</h2>
      <p>逻辑或(||)也属于短路操作，即当第一个操作数可以决定结果时，不再对第二个操作数进行求值。利用这个特点，我们可以给赋值语句设置默认值。只有当第一个操作数为null或者undefined时，才会把第二个操作数赋值给目标。</p>
      <div class="content">
        <div class="content-inner">
          function User(name, age){ this.name = name || "Liming"; }
        </div>
      </div>
      <p>上述代码中，如果函数中没有传入name参数，name的值为undefined，那么就会给this.name赋值为"Liming"。 ES6中可以为函数设置默认值，所以这个无需在函数中使用，但是其他地方还是很有用的
      </p>
      <h2>获取数组最后n个元素</h2>
      <p>可以使用以下代码获取数组中最后n个元素</p>
      <div class="content">
        <div class="content-inner">
          <p>var arr = [1, 2, 3, 4, 5, 6];</p>
          <p>console.log(arr.slice(-1)); <span>// [6]</span></p>
          <p>console.log(arr.slice(-2)); <span>// [5, 6]</span></p>
        </div>
      </div>
      <p>原理:Array.prototype.slice(begin,end)可以用来裁剪数组，第二个参数的默认值是数组的长度值。若值传入一个参数，则会返回从指定索引开始到数组结尾的所有值。 而slice()方法还可以接收负值，当传入负值时，会自动加上数组的长度值使其转换为正值，于是便得到了最后的n个值。
      </p>
    </div>
  </div>
</div>
